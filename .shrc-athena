athena ()
{
ITACA_LOGIN=XXX
ITACA_SERVER=YYY
CLUSTER=ZZZ
CLUSTER_DATADIR=/work/$ITACA_LOGIN
USAGE="Usage: myathena"
# w/o arguments, go straight to CLUSTER
if [ $# -le 1 ]; then
    ssh -t -t $ITACA_LOGIN@$ITACA_SERVER "ssh $CLUSTER -t \"cd ${CLUSTER_DATADIR}/$1;bash --login\"" 
# w/ at least one argument, check for upload / download modifier
elif [[ "$1" =~ (--run|-r) ]]; then
    shift
    ssh -t -t $ITACA_LOGIN@$ITACA_SERVER "ssh $CLUSTER -t \"${@}\" 2>/dev/null" 2>/dev/null
elif [[ "$1" =~ (--upload|-u) ]]; then
    shift
    if [ $# -lt 2 ]; then
		echo "$USAGE (--upload|-u) src dst"
		echo "to upload \"src\" to \"${CLUSTER}:$CLUSTER_DATADIR/dst\""
		echo "---------------------------------"
		echo "N.B: src=path/ (with trailing slash): copy contents of the folder"
		echo "     src=path  (w/o  trailing slash): copy the folder"
		return 1
    fi
    N=$#
    M=$((N-1))
    echo /usr/bin/rsync -avz --progress --bwlimit=1000 --exclude='*.lst' --exclude='*.pyc' --exclude='all_data_temp*.gdx' --exclude='.svn*' --exclude='.idea*' --exclude='build' --exclude='.git*' --exclude='225*' --exclude='sandbox*' -e "ssh -TA $ITACA_LOGIN@$ITACA_SERVER ssh -TA" --chmod=Du=rwx,Dgo=rx,Fu=rw,Fgo=r ${@:1:$M} "${CLUSTER}:$CLUSTER_DATADIR/${@:$N}"
    /usr/bin/rsync -avz --progress --bwlimit=1000 --exclude='*.lst' --exclude='*.pyc' --exclude='all_data_temp*.gdx' --exclude='.svn*' --exclude='.idea*' --exclude='build' --exclude='.git*' --exclude='225*' --exclude='sandbox*' -e "ssh -TA $ITACA_LOGIN@$ITACA_SERVER ssh -TA" --chmod=Du=rwx,Dgo=rx,Fu=rw,Fgo=r ${@:1:$M} "${CLUSTER}:$CLUSTER_DATADIR/${@:$N}"
elif [[ "$1" =~ (--download|-d) ]]; then
    shift
    if [ $# -lt 2 ]; then
		echo "$USAGE (--download|-d) 'src' dst [optional rsync args]"
		echo "to download \"${CLUSTER}:$CLUSTER_DATADIR/src\" to \"dst\""
		echo "-----------------------------------"
		echo "N.B: src=path/ (with trailing slash): copy contents of the folder"
		echo "     src=path  (w/o  trailing slash): copy the folder"
		return 1
    fi
    echo "FROM \"${CLUSTER}:$CLUSTER_DATADIR/$1\" TO \"$2\"..."
    /usr/bin/rsync -avz --progress ${@:3} -e "ssh -TA $ITACA_LOGIN@$ITACA_SERVER ssh -TA" ${CLUSTER}:"$CLUSTER_DATADIR/$1" "$2"
fi
return $?
}
